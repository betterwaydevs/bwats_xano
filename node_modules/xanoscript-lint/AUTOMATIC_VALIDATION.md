# Automatic XanoScript Validation

## üéØ The Power of Automatic Validation

With the XanoScript skill enabled, Claude Code automatically validates your `.xs` files **without you having to ask**. It works like a built-in linter that runs after every operation.

## How It Works

### Like `npm run build` But for XanoScript

You know how many projects automatically run `npm run build` after code changes? This skill does the same for XanoScript validation:

```
Traditional workflow:
1. Edit code
2. Save
3. Manually run: npm run build
4. Check for errors
5. Fix errors
6. Repeat

With XanoScript Skill:
1. Ask Claude to edit .xs file
2. Claude edits
3. üîÑ AUTOMATIC: Validation runs
4. üîÑ AUTOMATIC: Errors are fixed
5. ‚úÖ Done! No manual steps needed
```

## Real-World Scenarios

### Scenario 1: Creating a New Feature

**You:**
> "Create CRUD endpoints for a blog system with posts and comments"

**Claude (with automatic validation):**
```
I'll create the blog CRUD endpoints.

Creating posts.xs...
üîÑ Validating posts.xs...
‚úÖ No errors found!

Creating comments.xs...
üîÑ Validating comments.xs...
‚úÖ No errors found!

All endpoints created and validated successfully:
- POST /posts - Create post
- GET /posts - List posts
- GET /posts/:id - Get single post
- PUT /posts/:id - Update post
- DELETE /posts/:id - Delete post
- POST /posts/:id/comments - Add comment
- GET /posts/:id/comments - List comments
```

**Without the skill:**
```
Creates all the files...
(You have no idea if there are syntax errors)
(You have to manually run xs-lint)
(You have to manually fix any errors)
(You have to manually re-validate)
```

### Scenario 2: Making Quick Changes

**You:**
> "Add pagination to the posts endpoint"

**Claude:**
```
I'll add pagination to the posts endpoint.

Editing posts.xs...
üîÑ Validating posts.xs...
‚úÖ No errors found!

Added pagination parameters:
- limit: number (default 10)
- offset: number (default 0)
```

**The Difference:**
- **With skill**: Instant feedback, automatic validation
- **Without skill**: No validation unless you explicitly ask

### Scenario 3: Build & Deploy

**You:**
> "Ready to deploy - run the build"

**Claude:**
```
Running production build...

Build output:
‚úÖ Compiled successfully

Post-build validation:
üîÑ Checking all XanoScript files...
Validated 23 .xs files
‚úÖ All files passed validation!

üéâ Your code is ready to deploy:
- Build: Successful
- XanoScript: Validated
- No errors found
```

## Setup: Just Copy One Folder

```bash
# In your XanoScript project
cp -r /path/to/xano-lsp-cli/.claude/skills/xanoscript-lint .claude/skills/

# That's it! Automatic validation is now active
```

## What Gets Validated Automatically

The skill automatically validates after:

1. ‚úÖ **Creating any `.xs` file**
   ```
   "Create a new endpoint" ‚Üí Validation runs
   ```

2. ‚úÖ **Editing any `.xs` file**
   ```
   "Update the endpoint" ‚Üí Validation runs
   ```

3. ‚úÖ **Running build commands**
   ```
   "Run npm run build" ‚Üí Validation runs after build
   ```

4. ‚úÖ **Completing features**
   ```
   "Looks good!" ‚Üí Validation runs on all modified files
   ```

5. ‚úÖ **Before commits**
   ```
   "Ready to commit" ‚Üí Validation runs on changed files
   ```

6. ‚úÖ **After fixing errors**
   ```
   Fixes an error ‚Üí Re-validation runs automatically
   ```

## The Validation Output

Claude will show you results like:

### Success Case:
```
‚úÖ Created users.xs - No errors found!
```

### Error Case (Auto-Fixed):
```
‚ö†Ô∏è Found 1 error in users.xs - fixing automatically...

Error: Line 12 - Missing colon after 'email'
‚úÖ Fixed automatically

Re-validating...
‚úÖ Validation passed!
```

### Multiple Files:
```
Validating all modified files...
‚úÖ users.xs - No errors
‚úÖ posts.xs - No errors
‚úÖ comments.xs - No errors

All files validated successfully!
```

## Benefits

### 1. Catch Errors Early
Instead of finding syntax errors when you try to deploy or test, you find them immediately as you code.

### 2. No Manual Steps
You don't have to remember to run `xs-lint`. It just happens.

### 3. Confidence
Every file change is automatically validated. You know your syntax is correct.

### 4. Faster Development
No context-switching to run validation commands. Stay in your flow.

### 5. Learn Faster
See errors and fixes in real-time. Learn XanoScript syntax faster through immediate feedback.

## Comparison: With vs Without Automatic Validation

### Without Automatic Validation:
```
You: Create a new endpoint
Claude: Creates endpoint.xs
You: (No idea if it has errors)
You: Can you validate the file?
Claude: Running xs-lint...
Claude: Found 3 errors
You: Can you fix them?
Claude: Fixes errors
You: Can you re-validate?
Claude: Running xs-lint...
Claude: All clear!

Total: 6 back-and-forth messages
```

### With Automatic Validation:
```
You: Create a new endpoint
Claude: Created endpoint.xs
        üîÑ Auto-validated
        ‚úÖ No errors!

Total: 1 request, instant validation
```

## Configuration

### Use Default (Recommended)
Just copy the skill folder - no configuration needed!

### Custom CLI Path
If xs-lint isn't globally installed, edit `SKILL.md` and update the command pipeline from:
```bash
printf "%s\n" path/to/file.xs ... | xs-lint --json --stdin
```

To:
```bash
printf "%s\n" path/to/file.xs ... | node /full/path/to/xano-lsp-cli/bin/xs-lint.js --json --stdin
```

## Disabling Automatic Validation

If you want manual control instead:

```bash
# Remove the skill
rm -rf .claude/skills/xanoscript-lint

# Keep the slash command for manual use
# (keep .claude/commands/xs-lint.md)

# Now use: /xs-lint when you want validation
```

## See Also

- [AUTOMATIC_VALIDATION_EXAMPLES.md](.claude/skills/xanoscript-lint/AUTOMATIC_VALIDATION_EXAMPLES.md) - Detailed examples
- [SKILL.md](.claude/skills/xanoscript-lint/SKILL.md) - Full skill documentation
- [SKILL_VS_COMMAND.md](SKILL_VS_COMMAND.md) - Skill vs Command comparison

## Summary

**Automatic validation** means you can focus on building features, and Claude Code automatically ensures your XanoScript syntax is correct - just like having a linter that runs automatically on every save, but better because it also fixes errors for you!

Install the skill once, and every XanoScript file you work on gets validated automatically. No manual steps, no forgetting to check, just reliable, automatic validation.
