# XanoScript Validation: Skill vs Slash Command

This project provides **both** a Skill and a Slash Command for XanoScript validation. Choose the approach that fits your workflow.

## Quick Comparison

| Feature | Skill | Slash Command |
|---------|-------|---------------|
| **Invocation** | Automatic (context-aware) | Manual (`/xs-lint`) |
| **When to use** | "Check my XanoScript for errors" | `/xs-lint` |
| **Discovery** | Claude finds it automatically | You type the command |
| **Best for** | Ongoing development workflow | Quick, explicit validation |
| **Setup** | Copy `.claude/skills/` folder | Copy `.claude/commands/` file |

## Option 1: Skill (Recommended for Projects)

### What is a Skill?

A **skill** is a package of knowledge and tools that Claude Code automatically discovers and uses based on context.

### When Claude Uses the Skill Automatically

The skill activates when you:
- Edit or create `.xs` files
- Ask about XanoScript errors: *"Are there any errors in my code?"*
- Request validation: *"Validate my XanoScript files"*
- Mention syntax issues: *"Why isn't this working?"*

### Setup in Your Project

```bash
# Copy the entire skill folder
cp -r /path/to/xano-lsp-cli/.claude/skills/xanoscript-lint .claude/skills/

# Or create a symlink (recommended for development)
ln -s /path/to/xano-lsp-cli/.claude/skills/xanoscript-lint .claude/skills/xanoscript-lint
```

### Example Usage

```
User: "I just edited users.xs, can you check if there are any errors?"

Claude: [Automatically uses the skill]
Running XanoScript validation on users.xs...

Found 1 error:
- Line 12: Missing HTTP verb in query definition

Would you like me to fix this?
```

**Automation tip:** Pipe newline-separated file paths (`printf "%s\n" users.xs | xs-lint --json --stdin`) so Claude can reuse the same approved command signature.

### Structure

```
.claude/skills/xanoscript-lint/
‚îú‚îÄ‚îÄ SKILL.md                    # Main skill definition
‚îî‚îÄ‚îÄ reference/
    ‚îú‚îÄ‚îÄ PATTERNS.md             # Common XanoScript patterns
    ‚îî‚îÄ‚îÄ XANOSCRIPT_LSP.md      # LSP server reference
```

## Option 2: Slash Command (Quick & Explicit)

### What is a Slash Command?

A **slash command** is a manual shortcut you type to trigger a specific workflow.

### When to Use

Use the slash command when you want to:
- Explicitly validate files on demand
- Run validation as a deliberate step
- Have more control over when validation happens

### Setup in Your Project

```bash
# Copy just the command file
cp /path/to/xano-lsp-cli/.claude/commands/xs-lint.md .claude/commands/

# Or create a symlink
ln -s /path/to/xano-lsp-cli/.claude/commands/xs-lint.md .claude/commands/xs-lint.md
```

### Example Usage

```
User: /xs-lint

Claude: Running XanoScript validation...
Checking all .xs files in project...

Results:
‚úÖ src/api/users.xs - No issues
‚ùå src/api/posts.xs - 1 error found
  Line 15: Unexpected token

Would you like me to fix the error?
```

### With Arguments

```
User: /xs-lint src/api/users.xs

Claude: Validating src/api/users.xs...
‚úÖ No issues found!
```

## Recommendation: Use Both!

The best approach is to use **both together**:

### Skill (Automatic - Proactive!)
For ongoing development - **validation happens automatically**:
```
"Create a new endpoint for getting posts"
‚Üí Claude creates the file
‚Üí üîÑ AUTOMATICALLY validates it
‚Üí Reports: "‚úÖ Created posts.xs - No errors!"

"Update the users endpoint"
‚Üí Claude edits the file
‚Üí üîÑ AUTOMATICALLY validates it
‚Üí Fixes any errors found
‚Üí Reports: "‚úÖ Updated users.xs - No errors!"

"Run npm run build"
‚Üí Claude runs build
‚Üí üîÑ AUTOMATICALLY validates all .xs files
‚Üí Reports build + validation status
```

**Key advantage:** You don't need to ask for validation - it just happens!

### Command (Manual)
For explicit checks:
```
/xs-lint
‚Üí Validate all files right now
```

## Full Setup (Both Skill + Command)

```bash
cd /path/to/your/xanoscript-project

# Create directories
mkdir -p .claude/skills .claude/commands

# Copy or link the skill
cp -r /path/to/xano-lsp-cli/.claude/skills/xanoscript-lint .claude/skills/
# OR
ln -s /path/to/xano-lsp-cli/.claude/skills/xanoscript-lint .claude/skills/xanoscript-lint

# Copy or link the command
cp /path/to/xano-lsp-cli/.claude/commands/xs-lint.md .claude/commands/
# OR
ln -s /path/to/xano-lsp-cli/.claude/commands/xs-lint.md .claude/commands/xs-lint.md
```

## Updating the Paths

If you're copying these to another project, you may need to update the CLI path:

### In SKILL.md

Find lines like:
```bash
node bin/xs-lint.js --json
```

If xs-lint is globally linked, change to:
```bash
xs-lint --json
```

If you want to use the direct path:
```bash
node /Users/danielpetro/Documents/GitHub/xano-lsp-cli/bin/xs-lint.js --json
```

### In xs-lint.md (Command)

Same updates as above - search for `node bin/xs-lint.js` and update to use:
- `xs-lint` (if globally linked)
- Full path to the CLI (if not linked)

## Testing Both

### Test the Skill
```
# In your XanoScript project with the skill installed
"Check my XanoScript files for any issues"
```

### Test the Command
```
# In your XanoScript project with the command installed
/xs-lint
```

## Which Should You Use?

**Use the Skill if:**
- You want Claude to proactively help with XanoScript
- You're actively developing XanoScript code
- You want seamless integration into your workflow
- You prefer natural language interaction

**Use the Slash Command if:**
- You want explicit control over validation
- You prefer manual triggers
- You want a quick validation check
- You're validating infrequently

**Use Both if:**
- You want the best of both worlds (recommended!)
- Different team members have different preferences
- You want flexibility in how validation happens

## Troubleshooting

### "Skill not activating"

Make sure:
1. The skill folder is in `.claude/skills/xanoscript-lint/`
2. `SKILL.md` exists and is properly formatted
3. You're mentioning XanoScript or validation in your message

### "Slash command not found"

Make sure:
1. The command file is in `.claude/commands/xs-lint.md`
2. The file has the proper frontmatter (---\ndescription: ...\n---)
3. You're typing `/xs-lint` exactly (with the slash)

### "CLI not found"

If you see "command not found" errors:
1. Install the CLI globally: `cd /path/to/xano-lsp-cli && npm link`
2. Or update the paths in SKILL.md and xs-lint.md to use the full path
3. Or ensure `xs-lint` is in your PATH

## See Also

- [README.md](README.md) - Full documentation
- [TESTING.md](TESTING.md) - Testing instructions
- [QUICKSTART.md](QUICKSTART.md) - Quick start guide
