# Changelog

## v0.0.3 -

### Changes

- Find latest version of XanoScript LSP server in VS Code extension folder

## v0.0.2 - CLI/Command polish

### Changes

- Switched all docs and bundled command instructions to call the published `xs-lint` binary (no more `node bin/...` paths)
- Updated `/xs-lint` command metadata to declare allowed tools using Claude Code's recommended format
- Highlighted Claude Code setup steps and latest version badge in the README
- Bumped package metadata for npm publish

## v0.0.1 - Initial Release

### Improvements

- Added npm distribution support with updated install docs and `npx` usage
- Documented `xs-setup --symlink` workflow for auto-updating Claude integrations
- Recommended `--json --stdin` invocation pattern for CI and agent skills
- Confirmed CLI pairs with the latest XanoScript LSP (tested with `xs-lint test/example.xs`)

### Features

#### CLI Tool

- ✅ **xs-lint** - XanoScript validation CLI
  - Validates `.xs` files using XanoScript LSP server
  - Auto-detects LSP server from VS Code extension
  - Human-readable and JSON output formats
  - Pattern matching and batch validation
  - Proper exit codes for CI/CD integration

#### Automatic Setup

- ✅ **xs-setup** - Automatic Claude Code integration installer
  - One-command setup for projects
  - Symlink support for auto-updates
  - Global installation option
  - Selective installation (skill only / command only)

#### Claude Code Integration

**Skill (Automatic Validation)**

- Proactive, automatic validation after every `.xs` file operation
- Validates after creating files
- Validates after editing files
- Validates after build commands
- Validates before commits
- Auto-fixes common errors
- References project's existing XanoScript documentation

**Slash Command (Manual Validation)**

- `/xs-lint` command for on-demand validation
- Supports file arguments
- Integrates with automatic validation workflow

### Architecture

```
xano-lsp-cli/
├── bin/
│   ├── xs-lint.js          # Main validation CLI
│   └── xs-setup.js         # Automatic setup tool
├── lib/
│   ├── lsp-client.js       # LSP client wrapper
│   ├── validator.js        # File validation logic
│   └── formatters.js       # Output formatting
├── .claude/
│   ├── skills/
│   │   └── xanoscript-lint/
│   │       ├── SKILL.md    # Automatic validation skill
│   │       └── AUTOMATIC_VALIDATION_EXAMPLES.md
│   └── commands/
│       └── xs-lint.md      # Manual validation command
└── docs/                   # Comprehensive documentation

```

### Documentation

- **README.md** - Main documentation
- **INSTALL.md** - Installation guide
- **SETUP.md** - Detailed setup instructions
- **QUICKSTART.md** - Quick start guide
- **TESTING.md** - Testing guide
- **AUTOMATIC_VALIDATION.md** - How automatic validation works
- **SKILL_VS_COMMAND.md** - Skill vs Command comparison

### Key Design Decisions

#### 1. Minimal Documentation Duplication

- Skill references project's existing CLAUDE.md and agents.md
- Focuses on validation workflow, not XanoScript syntax
- Avoids redundant pattern documentation

#### 2. Automatic Installation

- `xs-setup` command for one-step installation
- Symlink support for automatic updates
- Global and local installation options

#### 3. Proactive Validation

- Skill automatically validates without being asked
- Works like `npm run build` - automatic after changes
- Auto-fixes errors when possible

#### 4. Three Ways to Validate

- **Automatic** (Skill) - Claude validates after every edit
- **Manual** (Command) - `/xs-lint` when you want it
- **CLI** (Terminal) - `xs-lint` from command line

### Installation

```bash
# Install CLI
npm install
npm link

# Setup Claude Code integration
cd your-xanoscript-project
xs-setup
```

### Requirements

- Node.js 20+
- XanoScript VS Code extension (`xano.xanoscript`)
- Claude Code (for skill/command features)

### License

MIT
