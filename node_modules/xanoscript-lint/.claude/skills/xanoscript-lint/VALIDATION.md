# Detailed Validation Guide

## Output Format

```json
{
  "summary": {
    "totalFiles": 1,
    "filesWithIssues": 1,
    "totalErrors": 2,
    "hasErrors": true
  },
  "results": [
    {
      "file": "file.xs",
      "diagnostics": [
        {
          "line": 12,
          "column": 5,
          "severity": "error",
          "message": "Expecting --> ':' <-- but found --> 'text' <--"
        }
      ]
    }
  ]
}
```

**IMPORTANT**: Always parse the full `results[].diagnostics[]` array, not just the summary.

## Error Fixing Process

1. **Locate error**: Use line/column from diagnostic
2. **Read context**: Read the file to understand intent
3. **Consult CLAUDE.md**: Find correct XanoScript syntax
4. **Use hover if needed**: `xs-hover file.xs --line X --column Y --json`
5. **Apply fix**: Use Edit tool
6. **Re-validate**: Run `xs-lint` again to confirm

## Common Error Types

- **Syntax errors**: Parsing issues
- **Missing required elements**: Verbs, colons, braces
- **Invalid tokens**: Unexpected characters or keywords
- **Structural errors**: Malformed blocks and clauses

For all XanoScript syntax questions, refer to the project's `CLAUDE.md` file.

## Commands

```bash
# Validate all .xs files in project
xs-lint --json

# Validate specific files
xs-lint file1.xs file2.xs --json

# Automation-friendly (stable command signature)
printf "%s\n" file1.xs file2.xs | xs-lint --json --stdin

# Get summary only (use jq)
xs-lint --json | jq '.summary'

# Get all error messages
xs-lint --json | jq '.results[].diagnostics[].message'
```

## Automatic Validation Triggers

**Always validate automatically after:**
1. Creating any `.xs` file
2. Editing any `.xs` file
3. Running build commands
4. Completing a feature
5. User completes a CLAUDE.md development phase

**Do not wait for user to ask** - validation is proactive.
